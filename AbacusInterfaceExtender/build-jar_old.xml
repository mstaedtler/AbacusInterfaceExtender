<project name="AbacusInterfaceExtender" default="dist" xmlns:fx="javafx:com.sun.javafx.tools.ant">
	<property name="MyApp" value="AbacusInterfaceExtender" />
	<property name="JAVA_HOME" value="C:\\Program Files\\Java\\jdk1.8.0_144"/>

	<tstamp>
        <format property="TODAY" pattern="dd-MM-yyyy_HH:mm:ss" />
    </tstamp>
	<path id="compile.classpath">
		<fileset dir="lib" />
		<pathelement path="bin" />
	</path>
	
	<target name="compile">
		<javac srcdir="src" destdir="bin">
			<classpath refid="compile.classpath" />
		</javac>
	</target>
	<!-- Create binary distribution -->
	<target name="buildJarOnly" depends="compile">
	   <delete file="${MyApp}.jar" />
	   <jar jarfile="${MyApp}.jar" basedir="bin" manifest="manifest.txt" />
	</target>
	
	<target name="dist" depends="compile">
		<taskdef resource="com/sun/javafx/tools/ant/antlib.xml"
			     uri="javafx:com.sun.javafx.tools.ant"
		      	 classpath="${JAVA_HOME}/lib/ant-javafx.jar"/>
		
	   <tstamp/>
		<delete file="${MyApp}.jar" />
		<delete file="dist/${MyApp}.zip" />
		<mkdir dir="dist" />
		
		<jar jarfile="${MyApp}.jar" basedir="bin" manifest="manifest.txt" />
		<zip destfile="dist/${MyApp}.zip">
			<fileset dir="." includes="*.css" />
			<fileset dir="." includes="*.fxml" />
	        <fileset dir="." includes="config/*.*" />
			<fileset dir="." includes="lib/*.jar" />
			<fileset dir="." includes="ressources/*.*" />
			<fileset dir="." includes="${MyApp}.jar" />
		</zip>
	</target>
</project>
